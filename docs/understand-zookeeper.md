# Understand Zookeeper

## 节点类型

### 持久节点
持久节点(PERSISTENT)是指在节点创建后，就一直存在，直到有删除操作来主动清除这个节点——不会因为创建该节点的客户端会话失效而消失。

### 持久顺序节点
持久顺序节点(PERSISTENT_SEQUENTIAL)，每个父节点会为他的第一级子节点维护一份时序，会记录每个子节点创建的先后顺序。基于这个特性，在创建子节点的时候，可以设置这个属性，那么在创建节点过程中，ZK会自动为给定节点名加上一个数字后缀，作为新的节点名。这个数字后缀的范围是整型的最大值。 


### 临时节点
临时节点(EPHEMERAL)，和持久节点不同的是，临时节点的生命周期和客户端会话绑定。也就是说，如果客户端会话失效，那么这个节点就会自动被清除掉。注意，这里提到的是会话失效，而非连接断开。另外，在临时节点下面不能创建子节点。 
可以用来做分布式锁，例如在/test/lock节点，如果创建成功的话，那么获得了锁。

### 临时顺序节点
临时顺序节点(EPHEMERAL_SEQUENTIAL)，属于临时节点，不过带有顺序，客户端会话结束节点就消失。
可以用来做分布式集群选举leader，当本会话的id最小时，即为leader。


### 连接和会话
Session。
